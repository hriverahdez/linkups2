<div ng-include="navbar.url"></div>
<div class="container-fluid">
	
	<div class="row">	    			
		<div class="empty-space-big"></div>
		<div class="col-sm-10 col-sm-offset-1">
			<div class="panel panel-default">
				<div class="panel-heading">
    				<h3 class="panel-title">Informaci&oacute;n del perfil</h3>                
				</div>
				<div class="panel-body">
					<form role="form" name="profileForm">
						<div class="row">
							<div class="col-sm-6 col-md-2" align="center">
								<i class="fa fa-user-circle fa-5x"></i>
							</div>
							<div class="col-sm-6 col-md-10">
								<h1>{{user.fullname}}</h1>
								<label class="label label-primary">@{{user.username}}</label>
							</div>
						</div>
						<hr>
						<div class="row">
							<div class="col-sm-6 form-group">
								<label>Nombre completo</label>
								<input type="text" ng-model="user.fullname" ng-change="hasUpdated()" class="form-control" required>
								<div class="empty-space-big"></div>
							</div>						
						</div>

						<div class="row">
							<div class="col-sm-12">
								<div class="checkbox">
	                                <label><input type="checkbox" ng-change="passCheckChange()" ng-model="passwordChange">Cambiar contrase&ntilde;a</label>
	                            </div>
								<div class="empty-space-small"></div>
							</div>						
	                        <div class="col-sm-6">
	                            <label>Contrase&ntilde;a</label>
	                            <input class="form-control" ng-model="user.password" placeholder="Password" name="password" type="password" ng-Change="checkPasswordsMatch()" ng-disabled="!passwordChange">
	                        </div>
	                        <div class="col-sm-6">
	                            <label>Repetir contrase&ntilde;a</label>
	                            <input class="form-control" ng-model="user.passconfirm" placeholder="Password" name="password" type="password" ng-Change="checkPasswordsMatch()" ng-disabled="!passwordChange">
	                        </div>
	                    </div>
	                    <div class="empty-space-small"></div>
	                    <div class="alert alert-danger" ng-model="error" ng-if="error">{{error.message}}</div>
					</form>

                    <a ng-click="updateProfile()" class="btn btn-lg btn-primary btn-block" ng-disabled="profileForm.$invalid || (passwordsDontMatch && passwordChange) || !somethingChanged">Actualizar perfil</a>

				</div>
			</div>
		</div>

	</div> <!-- row -->
											    	
	
</div> <!-- container-fluid -->